(this["webpackJsonpshopping-redux-ts"]=this["webpackJsonpshopping-redux-ts"]||[]).push([[0],{18:function(t,e,n){},20:function(t,e,n){t.exports=n(34)},25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var r,a=n(0),c=n.n(a),i=n(7),o=n.n(i),u=(n(25),n(8)),s=n(9),p=n(13),l=n(10),d=n(12);n(26),n(27);!function(t){t.LISTING="LISTING",t.CART="CART"}(r||(r={}));var m=function(){return{type:"TOGGLE_VIEW"}},f=function(t){return{type:"MODIFY_ITEM_IN_CART",product:t}},v=function(t){return{type:"SET_CATEGORY",categoryTarget:t}};var y,h,I=function(t){var e=t.dispatch;return c.a.createElement("div",{className:"header"},c.a.createElement("div",null,c.a.createElement("div",{className:"shopping-cart-icon"},c.a.createElement("img",{src:"./icons/cart-empty.svg",className:"header-cart-icon",alt:"shopping-cart",onClick:function(){return e(m())}}))))},g=n(1),b=Object(g.b)((function(t){return{dispatch:t}}))(I),O=(n(18),n(11)),E=n(6);function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){Object(O.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}!function(t){t.CONFIRM="CONFIRM",t.REMOVE="REMOVE"}(y||(y={})),function(t){t.ADD="ADD",t.SUBTRACT="SUBTRACT",t.VALUE="VALUE"}(h||(h={}));var C=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(l.a)(e).call(this,t))).state={quantity:n.props.view===r.LISTING?0:n.props.quantity},n.quantityChangeHandler=n.quantityChangeHandler.bind(Object(E.a)(n)),n.buttonHandler=n.buttonHandler.bind(Object(E.a)(n)),n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"quantityChangeHandler",value:function(t,e){var n=this.state.quantity;switch(e){case h.ADD:n++;break;case h.SUBTRACT:n=0===n?n:n-1;break;case h.VALUE:var a=t.target.value;0===a.length?n=-1:a.match(/[^0-9]/gi)||(n=parseInt(a))}this.props.view===r.CART&&this.props.dispatch(f({productInfo:w({},this.props.productInfo),quantity:n})),this.setState({quantity:n})}},{key:"buttonHandler",value:function(){this.props.view===r.LISTING?this.props.dispatch({type:"ADD_TO_CART",product:{productInfo:w({},this.props.productInfo),quantity:this.state.quantity}}):this.props.view===r.CART&&this.props.dispatch(f({productInfo:w({},this.props.productInfo),quantity:0})),this.setState({quantity:0})}},{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"item-quantity-modifier-wrapper"},c.a.createElement("div",{className:"item-quantity-modifier-column-quarter"},"$",this.props.productInfo.price," / ",this.props.productInfo.unit),c.a.createElement("div",{className:"item-quantity-modifier-column-half"},c.a.createElement("div",{className:"item-quantity-modifier-subtract",onClick:function(e){return t.quantityChangeHandler(e,h.SUBTRACT)}},"-"),c.a.createElement("input",{className:"item-quantity-modifier-input",style:{backgroundColor:"#".concat(this.props.productInfo.colorHex)},type:"text",value:-1===this.state.quantity?"":this.state.quantity,onChange:function(e){return t.quantityChangeHandler(e,h.VALUE)},onBlur:function(){return-1===t.state.quantity?t.setState({quantity:0}):null}}),c.a.createElement("div",{className:"item-quantity-modifier-add",onClick:function(e){return t.quantityChangeHandler(e,h.ADD)}},"+"),c.a.createElement("div",{className:"item-quantity-modifier-unit"}," ",this.props.productInfo.unit," ")),c.a.createElement("div",{className:"item-quantity-modifier-column-quarter",onClick:this.buttonHandler},c.a.createElement("div",null),this.props.view===r.LISTING?c.a.createElement(N,null):c.a.createElement(j,null)))}}]),e}(c.a.Component);function N(){return c.a.createElement("div",{className:"item-quantity-modifier-add-button"},"ADD")}function j(){return c.a.createElement("div",{className:"item-quantity-modifier-remove-button"},"REMOVE")}var A=Object(g.b)((function(t){return{dispatch:t}}))(C);function q(t){return c.a.createElement("div",{className:"list-item-wrapper",style:{backgroundColor:"#".concat(t.productInfo.colorHex)}},c.a.createElement("div",{className:"list-item-name list-item-row-wrapper"},t.productInfo.nameText),c.a.createElement("div",{className:"list-item-image list-item-row-wrapper"},"picture"),c.a.createElement("div",{className:"list-item-description list-item-row-wrapper"},"description"),c.a.createElement("div",{className:"list-item-quantity list-item-row-wrapper"},c.a.createElement(A,{productInfo:t.productInfo,view:t.view,quantity:t.quantity})))}function L(t){var e=t.cartLists,n=t.total;return c.a.createElement("div",{className:"list-wrapper"},c.a.createElement("div",{className:"list-heading"},"Your Shopping Cart"),e?e.map((function(t){return c.a.createElement(q,{productInfo:t.productInfo,view:r.CART,quantity:t.quantity,key:"".concat(t.productInfo.category,"-").concat(t.productInfo.nameIndex)})})):null,c.a.createElement("div",{className:"list-price-total"},"Total: $",n.toFixed(2)))}function S(t){var e=t.productLists;return c.a.createElement("div",{className:"list-wrapper"},e?e.map((function(t){return c.a.createElement(q,{productInfo:t,view:r.LISTING,quantity:0,key:"".concat(t.category,"-").concat(t.nameIndex)})})):null)}var x=function(t){var e=t.productLists,n=t.view,r=t.cartLists,a=t.total;return"LISTING"===n?c.a.createElement(S,{productLists:e}):c.a.createElement(L,{cartLists:r,total:a})},D=Object(g.b)((function(t){var e=0;t.cartLists.map((function(t){e+=t.productInfo.price*t.quantity}));var n=t.productLists,a=t.cartLists,c=t.view,i=t.category,o=[];return i.length&&!i[0].isActive?i.map((function(t){t.isActive&&o.push(t.name)})):i.map((function(t){return o.push(t.name)})),c===r.LISTING?{productLists:n.filter((function(t){return-1!==o.indexOf(t.categoryText)})),view:c,cartLists:a,total:e}:{productLists:n,view:c,cartLists:a.filter((function(t){return-1!==o.indexOf(t.productInfo.categoryText)})),total:e}}),(function(t){return{dispatch:t}}))(x);n(33);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){Object(O.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t){var e=t.category,n=t.dispatch,r={backgroundColor:"#".concat(e.hexColor),border:"2px solid rgba(0,0,0,0)"},a={border:"2px solid #".concat(e.hexColor),color:"#".concat(e.hexColor)};return c.a.createElement("div",{className:"filter-item",style:e.isActive?G({},r):G({},a),onClick:function(){n(v(e.name))}},e.name)}var P=function(t){var e=t.category,n=t.dispatch;return c.a.createElement("div",{className:"filters-wrapper"},e?e.map((function(t){return c.a.createElement(k,{category:t,dispatch:n,key:t.name})})):null)},_=Object(g.b)((function(t){return{category:t.category}}),(function(t){return{dispatch:t}}))(P),H=function(t){function e(t){var n,r=t.dispatch;return Object(u.a)(this,e),(n=Object(p.a)(this,Object(l.a)(e).call(this,{dispatch:r}))).dispatch=void 0,n.dispatch=r,n}return Object(d.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.dispatch(function(){var t=localStorage.getItem("productList"),e=[];if(t)JSON.parse(t).productList.map((function(t){e.push(t)}));else{for(var n=["fruit","vegetable","dairy","soft drink"],r=["lbs","lbs","box","can"],a=["FFB74D","FF8A65","81C784","4FC3F7"],c=0;c<4;c++)for(var i=0;i<10;i++)e.push({category:c,categoryText:n[c],nameIndex:i,nameText:"".concat(n[c],"-").concat(i),price:parseFloat((100*Math.random()).toFixed(2)),unit:r[c],colorHex:a[c]});localStorage.setItem("productList",JSON.stringify({productList:e}))}return{type:"GET_PRODUCTS",products:e}}()),this.dispatch(function(){var t=K.getState(),e=t.view===r.LISTING?t.productLists:t.cartLists,n=[];return e.map((function(t){var e=t.categoryText,r=!1;n.map((function(t){if(t.name===e)return r=!0,!1})),r||n.push({name:e,isActive:!1,hexColor:t.colorHex})})),n.splice(0,0,{name:"all",isActive:!0,hexColor:"1E88E5"}),{type:"GET_CATEGORIES",categories:n}}())}},{key:"componentDidUpdate",value:function(){console.log(K.getState())}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(b,null),c.a.createElement("div",{className:"app-body-wrapper"},c.a.createElement(_,null),c.a.createElement(D,null)))}}]),e}(c.a.Component),F=Object(g.b)((function(t){return{dispatch:t}}))(H);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M,U=n(4),V=n(5),B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_PRODUCTS":return Object(V.a)(e.products);default:return t}};!function(t){t.LISTING="LISTING",t.CART="CART"}(M||(M={}));var Y,J=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.LISTING,e=arguments.length>1?arguments[1]:void 0;return"TOGGLE_VIEW"===e.type?t===M.LISTING?M.CART:M.LISTING:t},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TO_CART":var n=!1,r=t.map((function(t){return t.productInfo.category===e.product.productInfo.category&&t.productInfo.nameIndex===e.product.productInfo.nameIndex&&(n=!0,t.quantity+=e.product.quantity),t}));return n?r:[].concat(Object(V.a)(t),[e.product]);case"MODIFY_ITEM_IN_CART":if(0===e.product.quantity){var a=t.filter((function(t){return!(t.productInfo.category===e.product.productInfo.category&&t.productInfo.nameIndex===e.product.productInfo.nameIndex)}));return a}var c=!1,i=t.map((function(t){return t.productInfo.category===e.product.productInfo.category&&t.productInfo.nameIndex===e.product.productInfo.nameIndex&&(c=!0,t.quantity=e.product.quantity),t}));return c?i:[].concat(Object(V.a)(t),[e.product]);default:return Object(V.a)(t)}},$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_CATEGORIES":return e.categories;case"SET_CATEGORY":return"all"===e.categoryTarget?t.map((function(t){return t.isActive="all"===t.name,t})):t.map((function(t){return t.name===e.categoryTarget&&(t.isActive=!t.isActive),"all"===t.name&&(t.isActive=!1),t}));default:return t}};!function(t){t.LISTING="LISTING",t.CART="CART"}(Y||(Y={}));var z=Object(U.b)({productLists:B,view:J,cartLists:W,category:$});n.d(e,"store",(function(){return K}));var K=Object(U.c)(z);o.a.render(c.a.createElement(g.a,{store:K},c.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.907c74d3.chunk.js.map